import { HeroPattern } from '@/components/HeroPattern'

export const description =
  'Learn everything there is to know about the Protocol API and integrate Protocol into your product.'

export const sections = [
  { title: '使用者模型', id: 'user-model' },
  { title: '列表出所有使用者', id: 'list-all-users' },
  { title: '查詢單一使用者資訊', id: 'list-user' },
  { title: '新增使用者', id: 'create-user' },
  { title: '更新使用者資訊', id: 'update-user' },
  { title: '刪除使用者', id: 'delete-user' },
  
]

<HeroPattern />

# User API

此API主要控制使用者的新增、修改與刪除。
（本系統的使用者架構僅實作簡單的權限機制，更複雜的RBAC架構與其他權限管理模型尚再研擬中）{{ className: 'lead' }}

## 使用者模型 {{ id:'user-model' }}
使用者模型主要記載使用者名稱、電子郵件地址、密碼等資訊。

### 模型屬性
<Properties>
  <Property name="id" type="string">
    使用者的唯一識別碼。
  </Property>
  <Property name="name" type="string">
    使用者的用戶名。
  </Property>
  <Property name="email" type="string">
    使用者的電子郵件地址。
  </Property>
  <Property name="password" type="string">
    使用者的加密密碼。
  </Property>
  <Property name="isRoot" type="boolean">
    用於確定使用者是否具有管理員訪問權限。
  </Property>
</Properties>

---

## 列表出所有使用者 {{ tag: 'GET', label: '/api/user', id:'list-all-users' }}
<Row>
  <Col>
    這個端點允許您檢索所有使用者的清單。
  </Col>
  <Col sticky>
    <CodeGroup title="Request" tag="GET" label="/api/user">
      ```bash {{ title: 'cURL' }}
      curl --location 'http://domain/api/user' \
        --header 'Authorization: Bearer {Token}'
      ```

      ```js
      var myHeaders = new Headers();
      myHeaders.append("Authorization", "Bearer {Token}");

      var requestOptions = {
        method: 'GET',
        headers: myHeaders,
        redirect: 'follow'
      };

      fetch("http://domain/api/user", requestOptions)
        .then(response => response.text())
        .then(result => console.log(result))
        .catch(error => console.log('error', error));
      ```

      ```python
      import requests

      url = "http://domain/api/user"

      payload = {}
      headers = {
        'Authorization': 'Bearer {Token}'
      }

      response = requests.request("GET", url, headers=headers, data=payload)

      print(response.text)
      ```
    </CodeGroup>
  </Col>
</Row>

---

## 查詢單一使用者資訊 {{ tag: 'GET', label: '/api/user/:id', id:'list-user' }}
<Row>
  <Col>
    這個端點允許您檢索單一使用者的資訊。
  </Col>
  <Col sticky>
    <CodeGroup title="Request" tag="GET" label="/api/user/:id">
      ```bash {{ title: 'cURL' }}
      curl --location 'http://domain/api/user/a7eb2457-9e08-4f33-a419-716e9df9a4d5' \
        --header 'Authorization: Bearer {Token}'
      ```

      ```js
      var myHeaders = new Headers();
      myHeaders.append("Authorization", "Bearer {Token}");

      var requestOptions = {
        method: 'GET',
        headers: myHeaders,
        redirect: 'follow'
      };

      fetch("http://domain/api/user/a7eb2457-9e08-4f33-a419-716e9df9a4d5", requestOptions)
        .then(response => response.text())
        .then(result => console.log(result))
        .catch(error => console.log('error', error));
      ```

      ```python
      import requests

      url = "http://domain/api/user/a7eb2457-9e08-4f33-a419-716e9df9a4d5"

      payload = {}
      headers = {
        'Authorization': 'Bearer {Token}'
      }

      response = requests.request("GET", url, headers=headers, data=payload)

      print(response.text)
      ```
    </CodeGroup>
  </Col>
</Row>

---

## 新增使用者 {{ tag: 'POST', label: '/api/user', id:'create-user' }}
<Row >
  <Col>

    這個端點允許您在Maplon後台中新增一名使用者

    ### Required attributes

    <Properties>
      <Property name="name" type="string">
        使用者的用戶名。
      </Property>
      <Property name="email" type="string">
        使用者的電子郵件地址。
      </Property>
      <Property name="password" type="string">
        使用者的加密密碼。
      </Property>
    </Properties>

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="POST" label="/api/user">

    ```bash {{ title: 'cURL' }}
    curl --location 'http://domain/api/user' \
      --header 'Content-Type: application/json' \
      --header 'Authorization: Bearer {Token}' \
      --data-raw '{
          "name":"jimmg35",
          "email": "jimmg350@sgmail.com",
          "password": "3c5707b71d71a08feba8843c28f6ce2c5b0d95b6cd8c7cab88e8b8eb31d645ee"
      }'
    ```

    ```js
    var myHeaders = new Headers();
    myHeaders.append("Content-Type", "application/json");
    myHeaders.append("Authorization", "Bearer {Token}");

    var raw = JSON.stringify({
      "name": "jimmg35",
      "email": "jimmg350@sgmail.com",
      "password": "3c5707b71d71a08feba8843c28f6ce2c5b0d95b6cd8c7cab88e8b8eb31d645ee"
    });

    var requestOptions = {
      method: 'POST',
      headers: myHeaders,
      body: raw,
      redirect: 'follow'
    };

    fetch("http://domain/api/user", requestOptions)
      .then(response => response.text())
      .then(result => console.log(result))
      .catch(error => console.log('error', error));
    ```

    ```python
    import requests
    import json

    url = "http://domain/api/user"

    payload = json.dumps({
      "name": "jimmg35",
      "email": "jimmg350@sgmail.com",
      "password": "3c5707b71d71a08feba8843c28f6ce2c5b0d95b6cd8c7cab88e8b8eb31d645ee"
    })
    headers = {
      'Content-Type': 'application/json',
      'Authorization': 'Bearer {Token}'
    }

    response = requests.request("POST", url, headers=headers, data=payload)

    print(response.text)
    ```

    </CodeGroup>

  </Col>
</Row>

---

## 更新使用者資訊 {{ tag: 'PATCH', label: '/api/user/:id', id:'update-user' }}
<Row >
  <Col>

    這個端點允許您更新一名指定使用者的資訊

    ### Required attributes

    <Properties>
      <Property name="name" type="string">
        使用者的用戶名。
      </Property>
      <Property name="password" type="string">
        使用者的加密密碼。
      </Property>
    </Properties>

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="PATCH" label="/api/user/:id">

    ```bash {{ title: 'cURL' }}
    curl --location --request PATCH 'http://domain/api/user/d761a5f4-d6cd-4757-8c5a-9f037648fbf1' \
      --header 'Content-Type: application/json' \
      --header 'Authorization: Bearer {Token}' \
      --data '{
          "name":"jimsss2ww2my",
          "password": "3c5707b71d71a08feba8843c28f6ce2c5b0d95b6cd8c7cab88e8b8eb31d645ee"
      }'
    ```

    ```js
    var myHeaders = new Headers();
    myHeaders.append("Content-Type", "application/json");
    myHeaders.append("Authorization", "Bearer {Token}");

    var raw = JSON.stringify({
      "name": "jimsss2ww2my",
      "password": "3c5707b71d71a08feba8843c28f6ce2c5b0d95b6cd8c7cab88e8b8eb31d645ee"
    });

    var requestOptions = {
      method: 'PATCH',
      headers: myHeaders,
      body: raw,
      redirect: 'follow'
    };

    fetch("http://domain/api/user/d761a5f4-d6cd-4757-8c5a-9f037648fbf1", requestOptions)
      .then(response => response.text())
      .then(result => console.log(result))
      .catch(error => console.log('error', error));
    ```

    ```python
    import requests
    import json

    url = "http://domain/api/user/d761a5f4-d6cd-4757-8c5a-9f037648fbf1"

    payload = json.dumps({
      "name": "jimsss2ww2my",
      "password": "3c5707b71d71a08feba8843c28f6ce2c5b0d95b6cd8c7cab88e8b8eb31d645ee"
    })
    headers = {
      'Content-Type': 'application/json',
      'Authorization': 'Bearer {Token}'
    }

    response = requests.request("PATCH", url, headers=headers, data=payload)

    print(response.text)
    ```

    </CodeGroup>

  </Col>
</Row>

---

## 刪除使用者 {{ tag: 'DELETE', label: '/api/user/:id', id:'delete-user' }}
<Row >
  <Col>

    這個端點允許您刪除一名指定使用者

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="DELETE" label="/api/user/:id">

    ```bash {{ title: 'cURL' }}
    curl --location --request DELETE 'http://domain/api/user/512cb7ea-e480-4d94-ae6e-c40cd1241e6c' \
      --header 'Authorization: Bearer {Token}'
    ```

    ```js
    var myHeaders = new Headers();
    myHeaders.append("Authorization", "Bearer {Token}");

    var requestOptions = {
      method: 'DELETE',
      headers: myHeaders,
      redirect: 'follow'
    };

    fetch("http://domain/api/user/512cb7ea-e480-4d94-ae6e-c40cd1241e6c", requestOptions)
      .then(response => response.text())
      .then(result => console.log(result))
      .catch(error => console.log('error', error));
    ```

    ```python
    import requests

    url = "http://domain/api/user/512cb7ea-e480-4d94-ae6e-c40cd1241e6c"

    payload = {}
    headers = {
      'Authorization': 'Bearer {Token}'
    }

    response = requests.request("DELETE", url, headers=headers, data=payload)

    print(response.text)
    ```

    </CodeGroup>

  </Col>
</Row>